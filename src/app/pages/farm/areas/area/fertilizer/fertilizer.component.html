<base-modal [show]="this.showAddModal | async" modal-title="コーヒーの木新規登録" (modal-closed)="this.toggleAddModal(false)">
  <app-new-fertilization-form (submitted)="this.toggleAddModal(false)"></app-new-fertilization-form>
</base-modal>
<h1>施肥</h1>
<div class="round-block">
  <a routerLink=".." class="card round">
    <svg xmlns="http://www.w3.org/2000/svg" height="48" width="48" viewBox="0,0,48,48">
      <path d="M24 40 8 24 24 8l2.1 2.1-12.4 12.4H40v3H13.7l12.4 12.4Z" />
    </svg>
  </a>
  <div class="card round" (click)="this.toggleAddModal(true)">
    <svg xmlns="http://www.w3.org/2000/svg" height="48" width="48" viewBox="0,0,48,48">
      <path d="M22.5 38V25.5H10v-3h12.5V10h3v12.5H38v3H25.5V38Z" />
    </svg>
  </div>
</div>
<div class="card">
  <table>
    <thead>
      <tr>
        <th>日付</th>
        <th>肥料種類</th>
        <th style="width: 40%">メモ</th>
        <th>削除</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let record of this.fertilizations | async">
        <td>{{ record.completedAt | date : 'short' }}</td>
        <td>{{ record.type | fertilizationType }}</td>
        <td>{{ record.note }}</td>
        <td class="remove">
          <svg (click)="this.removeFertilization(record.id)" xmlns="http://www.w3.org/2000/svg" height="48" width="48"
            viewBox="0,0,48,48">
            <path
              d="M13.05 42q-1.25 0-2.125-.875T10.05 39V10.5H8v-3h9.4V6h13.2v1.5H40v3h-2.05V39q0 1.2-.9 2.1-.9.9-2.1.9Zm21.9-31.5h-21.9V39h21.9Zm-16.6 24.2h3V14.75h-3Zm8.3 0h3V14.75h-3Zm-13.6-24.2V39Z" />
          </svg>
        </td>
      </tr>
    </tbody>
  </table>
</div>
