<base-modal
  [show]="this.showAddModal | async"
  modal-title="コーヒーの木新規登録"
  (modal-closed)="this.toggleAddModal(false)"
>
  <app-new-tree-form></app-new-tree-form>
</base-modal>
<div class="card round" (click)="this.toggleAddModal(true)">
  <svg xmlns="http://www.w3.org/2000/svg" height="48" width="48" viewBox="0,0,48,48">
    <path d="M22.5 38V25.5H10v-3h12.5V10h3v12.5H38v3H25.5V38Z" />
  </svg>
</div>
<div class="card">
  <h3>コーヒー木一覧</h3>
  <table>
    <thead>
      <tr>
        <th>整理番号</th>
        <th>品種</th>
        <th>位置情報</th>
        <th>根付いた頃の高さ</th>
        <th>最後の育成記録</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let tree of this.trees | async" (click)="this.handleTreeClick(tree.id)">
        <td>{{ tree.regularId }}</td>
        <td>{{ tree.species }}</td>
        <td [class.done]="tree.location" [class.remove]="!tree.location">
          <svg
            *ngIf="tree.location; else notSet"
            xmlns="http://www.w3.org/2000/svg"
            height="48"
            width="48"
            viewBox="0,0,48,48"
          >
            <path d="M18.9 35.7 7.7 24.5l2.15-2.15 9.05 9.05 19.2-19.2 2.15 2.15Z" />
          </svg>
        </td>
        <td>{{ tree.startHeight }}cm</td>
        <td>{{ tree.report?.createdAt | date : "shortDate" }}</td>
      </tr>
    </tbody>
  </table>
  <nav>
    <button type="button">
      <svg xmlns="http://www.w3.org/2000/svg" height="48" width="48" viewBox="0,0,48,48">
        <path d="M24 40 8 24 24 8l2.1 2.1-12.4 12.4H40v3H13.7l12.4 12.4Z" />
      </svg>
    </button>
    <button type="button">
      <svg xmlns="http://www.w3.org/2000/svg" height="48" width="48" viewBox="0,0,48,48">
        <path d="m24 40-2.1-2.15L34.25 25.5H8v-3h26.25L21.9 10.15 24 8l16 16Z" />
      </svg>
    </button>
  </nav>
</div>

<ng-template #notSet><svg xmlns="http://www.w3.org/2000/svg" height="48" width="48" viewBox="0,0,48,48"><path d="m12.45 37.65-2.1-2.1L21.9 24 10.35 12.45l2.1-2.1L24 21.9l11.55-11.55 2.1 2.1L26.1 24l11.55 11.55-2.1 2.1L24 26.1Z"/></svg></ng-template>
