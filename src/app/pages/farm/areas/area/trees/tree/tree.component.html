<div class="card round" (click)="this.toggleAddModal(true)">
  <svg xmlns="http://www.w3.org/2000/svg" height="48" width="48" viewBox="0,0,48,48">
    <path d="M22.5 38V25.5H10v-3h12.5V10h3v12.5H38v3H25.5V38Z" />
  </svg>
</div>
<div class="card">
  <table>
    <thead>
      <tr>
        <th>日付</th>
        <th>高さ</th>
        <th>摘芯後の着花</th>
        <th>実付き</th>
        <th style="width: 30%">メモ</th>
        <th>写真</th>
        <th>削除</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let report of this.reports | async">
        <td>{{ report.createdAt | date : "short" }}</td>
        <td>{{ report.height }}</td>
        <td>{{ report.budding }}</td>
        <td>{{ report.beanYield }}</td>
        <td (click)="this.togglePictureModal(report.photoURL)">{{ report.notes }}</td>
        <td (click)="this.togglePictureModal(report.photoURL)">
          <img *ngIf="report.photoURL" [src]="report.photoURL" alt="photo" />
        </td>
        <td class="remove">
          <svg
            (click)="this.removeDoc(report.id)"
            xmlns="http://www.w3.org/2000/svg"
            height="48"
            width="48"
            viewBox="0,0,48,48"
          >
            <path
              d="M13.05 42q-1.25 0-2.125-.875T10.05 39V10.5H8v-3h9.4V6h13.2v1.5H40v3h-2.05V39q0 1.2-.9 2.1-.9.9-2.1.9Zm21.9-31.5h-21.9V39h21.9Zm-16.6 24.2h3V14.75h-3Zm8.3 0h3V14.75h-3Zm-13.6-24.2V39Z"
            />
          </svg>
        </td>
      </tr>
    </tbody>
  </table>
</div>

<base-modal
  [show]="this.showAddModal | async"
  modal-title="育成状況レポート新規登録"
  (modal-closed)="this.toggleAddModal(false)"
>
  <app-new-report-form (submitted)="this.toggleAddModal(false)"></app-new-report-form>
</base-modal>

<base-modal [show]="this.showPictureModal$ | async" (modal-closed)="this.togglePictureModal(undefined)">
  <div class="photo-box">
    <img *ngIf="this.showPictureModal$ | async as picture" [src]="picture" alt="photo" />
  </div>
</base-modal>
